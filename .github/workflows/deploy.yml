name: ImplantaÃ§Ã£o manual

on:
  workflow_dispatch:
    inputs:
      ambiente:
        description: "Escolha o ambiente"
        required: true
        type: choice
        options:
          - desenvolvedor
          - hml
          - prd
          - serviÃ§o

      versao:
        description: "VersÃ£o para deploy"
        required: true
        default: "1.0.0"

      servidor:
        description: "Servidor destino"
        required: true
        default: "192.168.1.115"

jobs:
  implantar:
    runs-on: self-hosted

    steps:
      - name: ğŸ“‹ Mostrar parÃ¢metros
        run: |
          echo "Ambiente: ${{ github.event.inputs.ambiente }}"
          echo "VersÃ£o:   ${{ github.event.inputs.versao }}"
          echo "Servidor: ${{ github.event.inputs.servidor }}"

      - name: ğŸš€ Deploy manual
        run: |
          rsync -av --delete ./ /var/www/venditudo/
          sudo systemctl restart nginx
